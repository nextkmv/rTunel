# rTunel
TCP прокси

### Начало использования
* [Загрузите установочный файл](https://github.com/nextkmv/rTunel/raw/master/rTunel.exe "rTunel.exe")
* Выполнить установку, при этом будет установлен сервеис rTunnel - proxy.
* Задать настройки в файле config.sjon
* Запустить установленный сервис 

### Настройка простого прокси сервера
Настройки прокси сервера задаются в файле config.json, расположеного в папке с программой. По умолчанию файл заполнен демонстрационными данными.
Разберем настройки прокси сервера на примере следующего файла
```json
{
  "name": "Exemple config",
  "preferences": [
    {
      "name": "TCP PROXY",
      "credential": {
        "method": "none",
        "privateKey": ""
      },
      "endPoints": {
        "fromIp": "127.0.0.1",
        "fromPort": 8080,
        "toIp": "127.0.0.1",
        "toPort": 80,
        "protocol": "tcp"
      }
    }
  ]
}
```
В секции _preferences_ перечислены настройки всех запускаемых прокси.
Настройка _TCP PROXY_ создает простой прокси который перенаправляет запросы поступившие на 127.0.0.1:8080 на 127.0.0.1:80, а ответы передает обратно.

### Настройка защищенного RDP соединения
Допустим 192.168.0.1 RDP сервер к которому необходимо организовать защищенное соединение,  127.0.0.1 клиентский компьютер с которого мы будем устанавливать соединение. На сервере и кленте установлен rTunel.
На клиенте config.json имеет вид:
```json
{
  "name": "Exemple config",
  "preferences": [
    {
      "name": "Encrypted proxy starting point",
      "credential": {
        "method": "XOR",
        "privateKey": "1234567890"
      },
      "endPoints": {
        "fromIp": "127.0.0.1",
        "fromPort": 1234,
        "toIp": "192.168.0.1",
        "toPort": 1234,
        "protocol": "tcp"
      }
	  }
  ]
}
```
В секции _credential_ указан тип шифрования XOR и ключ шифрования. 
в секции _endPoints_ казаны настройки конечных точек.
_fromIp_ и _fromPort_ - IP адрес и порт интерфейса на клиенте который принимает входящие соединение в не зашифрованном виде.
_toIp_ и _toPort_ - IP адрес и порт интерфейса на который передается принятое входящие соединение в зашифрованом виде.

На сервере config.json имеет вид:
```json
{
  "name": "Exemple config",
  "preferences": [
    {
      "name": "Encrypted proxy end point",
      "credential": {
        "method": "XOR",
        "privateKey": "1234567890"
      },
      "endPoints": {
        "fromIp": "192.168.0.1",
        "fromPort": 1234,
        "toIp": "127.0.0.1",
        "toPort": 3389,
        "protocol": "tcp"
      }
    }
  ]
}
```
В секции _credential_ указан тип шифрования XOR и ключ шифрования. 
в секции _endPoints_ казаны настройки конечных точек.
_fromIp_ и _fromPort_ - IP адрес и порт интерфейса на сревере который принимает входящие соединение в зашифрованном виде.
_toIp_ и _toPort_ - IP адрес и порт интерфейса на который передается принятое входящие соединение в расшифрованном виде.

После задания конфигурации и запуска сервисов на клиенте и на сервере, выполнив на клиенте RDP подключение по адресу 127.0.0.1:1234 мы подключимся к RDP серверу запущеному на 192.168.0.1. 



